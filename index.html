<!DOCTYPE html>
<html>
<head>
	<title>Movie List</title>
	<meta charset="UTF-8" />
	<meta name="keywords" content="movie list" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>

<div class="hide">
<span class="badge-light-1">Action</span>
<span class="badge-dark-1">Action</span>
<span class="badge-light-2">Action</span>

<div class="moviePoster lg">
	<img src="images/ET0000001.jpg" class="img-responsive">
</div>
<div class="moviePoster md">
	<img src="images/ET0000001.jpg" class="img-responsive">
</div>
<div class="moviePoster sm">
	<img src="images/ET0000001.jpg" class="img-responsive">
</div>
</div>

	<div class="pageWRapper bgColor clearfix">
		<header>
			<nav>
			<div class="container-fluid">
				<div class="nav-header"><h1> <a href="" class="logo"></a> </h1></div>

				<div class="navigation">
					<ul>
						<li class="active"><a href="">Movie</a></li>
						<li><a href="">Movie</a></li>
						<li><a href="">Movie</a></li>
						<li><a href="">Movie</a></li>
						<li><a href="">Movie</a></li>
					</ul>
				</div>
			</div>
			</nav>
		</header>

		<section class="clearfix">
			<div class="slider"></div>
		</section>

		<section class="clearfix marT100">
			<div class="container">
				<div class="row">
					<div class="col-md-3">
						<div class="sidebar">
							<div class="content-block clearfix">
								<div class="section-title"><h3>Birthday this week</h3></div>
								<ul class="birthdayList">
									<li>
										<img src="images/actor-8.png">
										<div class="meta marT25">
											<span class="metaName colorsPalette-text text-clr-7">Salman Khan</span>
											<span class="metaAge colorsPalette-text text-clr-6">Age: 50</span>
										</div>
									</li>
									<li>
										<img src="images/actor-9.png">
										<div class="meta marT25">
											<span class="metaName colorsPalette-text text-clr-7">Salman Khan</span>
											<span class="metaAge colorsPalette-text text-clr-6">Age: 50</span>
										</div>
									</li>

									<li>
										<img src="images/actor-6.png">
										<div class="meta marT25">
											<span class="metaName colorsPalette-text text-clr-7">Salman Khan</span>
											<span class="metaAge colorsPalette-text text-clr-6">Age: 50</span>
										</div>
									</li>

									<li>
									<img src="images/actor-7.png">
										<div class="meta marT25">
											<span class="metaName colorsPalette-text text-clr-7">Salman Khan</span>
											<span class="metaAge colorsPalette-text text-clr-6">Age: 50</span>
										</div>
									</li>
								</ul>
							</div>
							<div class="content-block">
								<div class="section-title"><h3>Trailers this week</h3></div>
								<ul class="trailersList">
									<li>
										<div class="moviePoster sm">
											<img src="images/ET0000007.jpg" class="img-responsive">
										</div>
										<div class="meta marT55">
											<span class="metaName colorsPalette-text text-clr-7">Game of Thrones</span>
											<span class="metaTime colorsPalette-text text-clr-6">Season 6 Trailer | 1:20</span>
										</div>
									</li>
									<li>
										<div class="moviePoster sm">
											<img src="images/ET0000006.jpg" class="img-responsive">
										</div>
										<div class="meta marT55">
											<span class="metaName colorsPalette-text text-clr-7">Tintin 2</span>
											<span class="metaTime colorsPalette-text text-clr-6">Trailer #2 | 2:12</span>
										</div>
									</li>

									<li>
										<div class="moviePoster sm">
											<img src="images/ET0000004.jpg" class="img-responsive">
										</div>
										<div class="meta marT55">
											<span class="metaName colorsPalette-text text-clr-7">Kung fu panda 3</span>
											<span class="metaTime colorsPalette-text text-clr-6">Trailer #1 | 1:54</span>
										</div>
									</li>

									<li>
										<div class="moviePoster sm">
											<img src="images/ET0000005.jpg" class="img-responsive">
										</div>
										<div class="meta marT55">
											<span class="metaName colorsPalette-text text-clr-7">The Witch</span>
											<span class="metaTime colorsPalette-text text-clr-6">Trailer #1 | 2:39</span>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="col-md-9">
						<div class="content">
							<div class="topMenuBar">
								<div class="section-title"><h3>Filter by language</h3></div>
								<div class="filter"></div>
							</div>
							<div class="row">
								<div class="categories">
									<div class="col-md-6 movieCaretBox hide">
										<div class="movieCaret box-std shadow2x clearfix roundBox colorsPalette clr-3 marT80">
											<div class="col-md-4 nopadding">
												<div class="moviePoster md marT-52"> <img src="images/ET0000001.jpg" class="img-responsive"></div>
												<div class="movieCast">
													<span class="castCircle"><img src="images/actor-1.png"></span>
													<span class="castCircle"><img src="images/actor-2.png"></span>
													<span class="castCircle"><img src="images/actor-3.png"></span>
													<span class="castCircle"><img src="images/actor-4.png"></span>
													<span class="castCircle"><img src="images/actor-5.png"></span>
												</div>
												<div class="frndsGoing colorsPalette-text text-clr-6">Clark, kim &amp; <span class="nof">7</span> other are going! </div>
											</div>

											<div class="col-md-8 paddr0 ">
												<div class="movieTitle"><h4>Fitoor</h4></div>
												<div class="movieLanguage colorsPalette-text text-clr-6"> Hindi | English</div>
												<div class="startRating colorsPalette-text text-clr-6"> <span class="rating"></span> <span> Critics Rating</span></div>
												<div class="movieTime colorsPalette-text text-clr-6"><span>R</span> | <span class="runTime">1h 40min </span></div>
												<div class="movieCat marT25"> 
													<span class="badge-light-2">Action</span> 
													<span class="badge-light-2">Adventure</span> 
													<span class="badge-light-2">Romance</span>
												</div>

												<div class="movieVotes">
													<div class="likes"> <img src="images/heart.png"> <span>96%</span></div>
													<div class="votes colorsPalette-text text-clr-6">66,393 Votes</div>
												</div>

												
											</div>
											<div class="bookNowBtn">
													<a href="" class="btn btn-red shadow roundBtn">Book Now</a>
												</div>
										</div>
									</div>


								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			

		</section>

	</div>



<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.2.min.js"></script>


<script type="text/javascript">
var myLists = "";

function loadXMLDoc() {
   var xmlhttp;

   if (window.XMLHttpRequest) {
       // code for IE7+, Firefox, Chrome, Opera, Safari
       xmlhttp = new XMLHttpRequest();
   } else {
       // code for IE6, IE5
       xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
   }

   xmlhttp.onreadystatechange = function() {
       if (xmlhttp.readyState == XMLHttpRequest.DONE ) {
          if(xmlhttp.status == 200){
              
              	var myLists = xmlhttp.responseText;
          }
          else if(xmlhttp.status == 400) {
             alert('There was an error 400')
          }
          else {
              alert('something else other than 200 was returned')
          }
       }
   }

   xmlhttp.open("GET", "js/movie-list.json", true);
   xmlhttp.send();
}

$(document).ready(function() {

var catDiv = $('.categories');

 $.ajax({
 url:'js/movie-list.json',
 type:'get',
 dataType:'json',
 success:function(data){
 	var myLists = data;
	 for(var key in myLists){
	            var attrName = key;
	            var attrValue = myLists[key];
	            console.log(attrValue.EventId);
		 		var movieCaretBox = $('<div />', {
	                 "class" : 'col-md-6 movieCaretBox'  
	              });

	             var movieCaret = $('<div />', {
	                 "class" : 'movieCaret box-std shadow2x clearfix roundBox colorsPalette clr-3 marT80'  
	              });  

	              var colLeft = $('<div />', {
	                 "class" : 'col-md-4 nopadding'  
	              });

	              var colRight = $('<div />', {
	                 "class" : 'col-md-8 paddr0'  
	              });

	              var movieTitle = $('<div />', {
	                 "class" : 'movieTitle'
	              });

	               var moviePoster = $('<div />', {
	                 "class" : 'moviePoster md marT-52'  
	              });

	               var movieLanguage = $('<div />', {
	                 "class" : 'movieLanguage colorsPalette-text text-clr-6'  
	              });

	              var movieCast ='<div class="movieCast"><span class="castCircle"><img src="images/actor-1.png"></span><span class="castCircle"><img src="images/actor-2.png"></span><span class="castCircle"><img src="images/actor-3.png"></span><span class="castCircle"><img src="images/actor-4.png"></span><span class="castCircle"><img src="images/actor-5.png"></span></div><div class="frndsGoing colorsPalette-text text-clr-6">Clark, kim &amp; <span class="nof">7</span> other are going!</div>';

	               var movieImg = attrValue.EventId+".jpg";
	               var moveiePosterImgEle = '<img src="images/'+movieImg+'" class="img-responsive">' + movieCast;

	               var movieTitleCtn = attrValue.EventName;
	               var movieTitleTxt = '<h4>' +movieTitleCtn+ '</h4>';

	               var movieLang = attrValue.Language;
	               var movieLangStr = movieLang.join(' | ');

	               var startRating = $('<div />', {
	                 "class" : 'startRating colorsPalette-text text-clr-6'  
	              });
	               
	               var startHTML = '<span class="rating"></span> <span> Critics Rating</span>'

	               var movieTime = $('<div />', {
	                 "class" : 'movieTime colorsPalette-text text-clr-6'  
	              });
	               var movieTimeCtn = attrValue.RunTime;
	               var movieTimeHTML = '<span>' +movieTimeCtn+ '</span>'

	               var movieCat = $('<div />', {
	                 "class" : 'movieCat marT25'  
	              });

	               var Genre = attrValue.Genre;

	               for(var gkey in Genre){
	               		var movieGenre = $('<span />', {
		                 "class" : 'badge-light-2',
		                 text: Genre[gkey] 
	              		});
               			movieCat.append(movieGenre);
               		}
	               
               		var movieVotes = $('<div />', {
	                 "class" : 'movieVotes'  
	              });

               		var likesCtn = attrValue.likes;
               		var userVotesCtn = attrValue.UserVotes;

               		var likes = $('<div />', {
	                 "class" : 'likes'
	              });
               		likes.html('<img src="images/heart.png"> <span>'+likesCtn+'</span>');

               		var userVotes = $('<div />', {
	                 "class" : 'votes colorsPalette-text text-clr-6'  
	              });
               		userVotes.html('<div class="votes colorsPalette-text text-clr-6"> '+userVotesCtn +' Votes</div>');
               	
	               var bookNowBtn = $('<div />', {
	                 "class" : 'bookNowBtn'
	              });

	             	bookNowBtn.html('<a href="" class="btn btn-red shadow roundBtn">Book Now</a>');
            
	             movieTime.html(movieTimeHTML) // movieTimeHTML html 
	             startRating.html(startHTML)  // Starrating html 
	             movieLanguage.html(movieLangStr); // movieLanguage text
	             moviePoster.html(moveiePosterImgEle); //  moviePoster image

	             colLeft.append(moviePoster); // Append movie poster div

 				 movieTitle.html(movieTitleCtn); //  movie title html
 				 colRight.append(movieTitle); // Append movie title div
	             movieCaret.append(colLeft); // Append colLeft div col-md-4
	     
	             movieCaret.append(colRight); // Append colRight div col-md-8
	             colRight.append(movieLanguage); // Append movieLanguage div
	             colRight.append(startRating); // Append startRating div
	             colRight.append(movieTime); // Append movieTime div
	             colRight.append(movieCat); // Append movieCat div

	             colRight.append(movieVotes); // Append movieVotes div
	             movieVotes.append(likes); // Append like div
	             movieVotes.append(userVotes); // Append voter div
	             movieCaret.append(bookNowBtn); // Append bookNowBtn div

	             movieCaretBox.append(movieCaret); // Append movieCaret div
              	 catDiv.append(movieCaretBox); // Append movieCaretBox div
		}
  	}
 });

});
</script>











<!--	old code<script type="text/javascript">
	$(document).ready(function() {
		var jsonString = JSON.stringify(data);
		 	jsonData = JSON.parse(jsonString);
		 for(var jData=0;jData<data.length;jData++){
	        var obj = data[jData];
	        var	parentDiv = document.createElement( "div" )
	        $(parentDiv).attr("class", "col-md-6 movieCaretBox");

	        for(var key in obj){
	            var attrName = key;
	            var attrValue = obj[key];
	            console.log(attrName, attrValue);

	        
	        }

	        var	mainDiv = document.createElement( "div" )
	        	$(mainDiv).attr("class", "movieCaret box-std shadow2x clearfix roundBox colorsPalette clr-3 marT80");
	        	$(parentDiv).append( mainDiv ); 

	       	var movieCaret = $('.movieCaret');
			init();
	       	
	        $(".categories").append(parentDiv);
	 }
	    
	 });

	       	function init() {
				var html='';
					$.ajax({
						type: "GET",
						dataType: "json",
						url: "js/movie-list.json",
						success: function (data) {
							var jsonData = $.parseJSON(data);
							for(var key in data) {
				            var value = jsonData[key];
				                html+='<div>'+key+':'+value+'</div>'
				            }
				            $(movieCaret).append(html);
						}
					});

				}


	</script>-->
</body>
</html>